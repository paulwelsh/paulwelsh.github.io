<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="8" MadCap:lastHeight="1104" MadCap:lastWidth="946">
    <head>
        <link href="../Resources/Stylesheets/Styles.css" rel="stylesheet" />
    </head>
    <body>
        <h2>Receipt Page Notes</h2>
        <p>
            <MadCap:keyword term="receipts, customizing" />On February 6, 2008, <MadCap:variable name="Primary.CompanyName" /> introduced the ability to customize online receipts for eSellers that use Custom Layouts. Prior to that release, an  <![CDATA[ ]]><MadCap:variable name="Primary.CompanyName" /> system page provided the receipts for all purchases. The changes to allow customizable receipts included adding the following elements to Custom Layouts:</p>
        <ul>
            <li>A receipt layout page, which is included with all default layouts</li>
            <li>A page assignment for setting each layout's receipt page</li>
            <li>Several new eSellerate variables for use on the receipt page</li>
        </ul>
        <p>Layouts that you create after February 6, 2008, (using a default layout as your starting point) will use a customizable receipt by default. These layouts include a Receipt.htm layout file, which looks and functions the same as the system page that previously had provided the receipts for all purchases. You can edit the default Receipt.htm to customize the receipts in any of your layouts. Your edits will affect the receipts shown at the conclusion of a purchase, and those that are accessible through the <MadCap:variable name="Primary.CompanyName" /> After-Purchase Services web site (<a><a href="http://store.esellerate.net/support" target="_blank">http://store.esellerate.net/support</a></a>).</p>
        <p>If you choose to use the default Receipt.htm without modifications, there is nothing additional that you need to do in regard to the receipt page. You can inspect, test and publish your layouts as you normally would.</p>
        <p>If you choose to customize the default Receipt.htm or one of the other sample receipts that <MadCap:variable name="Primary.CompanyName" /> provides, please see the following notes for more information.</p>
        <h5>Notes on customizable receipts</h5>
        <ul>
            <li MadCap:conditions="Primary.Print,Primary.Online">This feature is not available to Integrated eSellers because it requires Custom Layouts.</li>
            <li>The Receipt Page setting in the page assignments specifies the receipt layout file. This page is set to "Receipt.htm" by default. (You make page assignments on the Settings tab of the Custom Layouts Detail page.)</li>
            <li>A system page provides the receipts for layouts that do not have a Receipt Page assigned.</li>
            <li>As a general rule, when customizing receipt pages, you should avoid using variables that are not part of the "_Order…" or "_Tracking…" groups. "_Order…" and "_Tracking…" variables can only be used on the receipt page (more information follows), and they also are (typically) the only variables that you should use on receipts.</li>
            <li>Thirty-nine eSellerate variables were added for customizable receipts. Also note:<ul><li>Variables that can only be used on the receipt page are marked as "Receipt" on the variables help page (<a href="http://publishers.esellerate.net/customvar.aspx" target="_blank">http://publishers.esellerate.net/customvar.aspx</a>). The inspection process will fail (on a publish attempt) if you include a "Receipt" variable on a layout page other than the assigned receipt page.</li><li>See the provided help for information about these variables. (To view help, hover your mouse over the variable name, or click the bullet to the left of the variable.)</li></ul></li>
            <li>Do not use _Custom.Data variables on receipt pages. Instead, use one of the 20 reserved _Order.CustomData variables (named _Order.CustomData0 through _Order.CustomData19), which are the receipt page equivalents of _CustomData variables. For example, if you use _Custom.Data4 to receive and store customer input during a purchase, you would display that data on the receipt page with _Order.CustomData4.</li>
            <li>To hide elements that should not be on the receipt when customers view it from After-Purchase Services, you can use the _Order.IsSupport variable. The value of _Order.IsSupport is true if the <MadCap:variable name="Primary.CompanyName" /> system is showing the receipt page from After-Purchase Services. This allows conditional use of Span tags to prevent showing variables that are not available after the purchase session ends. An example follows: <ul><li>&lt;span _If="NOT (_Order.IsSupport)"&gt;_variable&lt;/span&gt;</li></ul></li>
            <li>Your testing of receipt pages should include receipts generated at the conclusion of a purchase, and those that are accessible through After-Purchase Services.</li>
            <li>
                <MadCap:keyword term="receipt samples" />In addition to the default Receipt.htm, <MadCap:variable name="Primary.CompanyName" /> provides other sample receipts that you can download and customize for your own use. These samples are available for downloading through the <MadCap:variable name="Primary.CompanyName" /> Downloads page. The link for accessing the downloads is on the Sales Manager home page, under the "What's New for eSellerate" information.  (Use the "Custom Receipt Default Examples" link.)</li>
            <li>One of the receipt samples demonstrates how to pass <MadCap:variable name="Primary.CompanyName" /> sales information to <MadCap:keyword term="Google Analytics receipt sample" />Google Analytics. The code that provides the tracking functionality is at the bottom of the receipt page, enclosed by Span tags. </li>
            <li>If you adapt the Google Analytics sample for your own use, you will need to replace two placeholder values in the block of code listed below. The values that you will need to replace with your own are "UA-XXXXXXX-X" in the first line, and "yoursite.com" in the third line.<ul><li>var pageTracker = _gat._getTracker("UA-XXXXXXX-X");<br />pageTracker._initData();<br />pageTracker._setDomainName("yoursite.com");</li></ul></li>
            <li>
                <MadCap:keyword term="tracking variables" /><MadCap:variable name="Primary.CompanyName" />provides defined variables specifically for use with tracking. These variables can only be used on the receipt page, and include "Tracking" in their names to differentiate them from variables that you would use for display or other purposes. Also note:<ul><li>Tracking variables that refer to currency amounts (such as _TrackingItem.PriceEach) return the U.S. dollar amount, regardless of the currency that was selected in the shopping cart.<ul><li>We do not recommend using these variables to display currency amounts on your receipt pages, which could confuse your customers by showing multiple currencies for their orders. As with all the tracking variables, the sole purpose of these variables is to track web statistics.</li></ul></li><li>Some of the tracking variables are indexed ("Loop Only") variables that must be enclosed in an order loop. </li><li>Our <MadCap:keyword term="Google Analytics receipt sample" />Google Analytics sample demonstrates the use of tracking variables.</li></ul></li>
            <li>Prior to the release of customizable receipts, <MadCap:variable name="Primary.CompanyName" /> would add tracking code to individual receipt pages when software publishers requested it for use with solutions such as Google Analytics. We now encourage publishers to add the tracking code themselves, through customizable receipts. If you're ready to switch from one of our custom solutions to adding your own tracking code to receipt pages, please let us know. We will then remove the unneeded code, to prevent duplication or errors in your tracking data.</li>
        </ul>
    </body>
</html>